<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Sala</title>
   <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <!-- CSS -->
  <link href="style.css" rel="stylesheet" type="text/css" />
  <!-- Scripts Mock -->
  <script src="MockRooms.js"></script>
</head>
<body style="text-align:center;">
  <!-- INJEÇÃO DE INFORMAÇÕES DA SALA -->
  <script>
    let url = window.location.href.split("?sala=");
    let id = url[1];

    function theSameId(el){
      return el.id == id;
    }
    
    room = rooms.filter(theSameId);
    room = room[0];
  </script>
    <!-- NOME DA SALA E STATUS -->
    <h1 class="titulo" id="nomeSala" >
      <script> document.writeln(room.fullName) </script>
    </h1>
    <h2 id="statusSala">
      <script> 
        document.write(room.status);
      </script>
    </h2>
    <!-- CONTEUDO DA SALA -->
    <div id="informacoesSalas">
        <h4 class="topico-sala">Tipo da sala</h4>
          <ul class="conteudo-sala" id="tipoSala">
            <li>
              <script> document.writeln(room.roomType) </script>
            </li>
          </ul>
        <h4 class="topico-sala">Quantidade de espaços</h4>
          <ul class="conteudo-sala" id="espacoSala">
            <li>
              <script> document.writeln(room.roomCapacity) </script>
            </li>
          </ul>
        <h4 class="topico-sala">Contem</h4>
        <ul class="conteudo-sala" id="itensSala">
          <script>
            room.contains.forEach(el => {
              document.writeln(`
                <li>${el}</li>
              `);
            });
          </script>
        </ul>
        <script>
          if(room.status == "ocupado"){
            document.writeln(`
                <h4 class="topico-sala">Ocupador</h4>
                <ul class="conteudo-sala" id="itensSala">
                  <li>${room.userOccupying}</li>
                </ul>
            `);
          }
          
        </script>
    </div>
    <!-- INJEÇÃO DE BOTÃO DE SOLICITAÇAO -->
  <script>
    document.writeln(`
      <input type='button' class='btn btn-secondary  ${room.status == "ocupado"?"disabled":""}' id='btnSolicitar' value='Solicitar'>
    `);
  </script>
  
    <!-- BOTTOM NAVABAR -->
    <nav class="navbar">
        <a href="#voltar">
            <i class="feather" data-feather="arrow-left"></i>  
        </a>
        <a href="/home">
            <i class="feather" data-feather="home"></i>
        </a>
        <a href="/perfil">
            <i class="feather" data-feather="user"></i>
        </a>
    </nav>
  <!-- Feather icons js start -->
    <script>
        feather.replace()
      </script>
    
</body>
</html>